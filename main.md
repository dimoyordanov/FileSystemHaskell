## Документация за проект по Функционално програмиране
## Тема: Файлова система
## Изготвил: Димо Йорданов

-----------

# Резюме

След като програмата зареди имаме следния пайплайн

Програмата работи на базата на състояние, като във всяко състояние имаме пътя вмомента, съобщение за потребителя и директорията.

Функцията takeUserInput може да се каже че основно движи програмата.
Тя принтира съобщението от състоянието и после парсва командата от потребителя след това изпълняваме командата. като я изпълним ако е изпълнена успешно без грешка проверяваме дали трябва да свърши програмата.

-----------

# Модули

## IO модул

### Функции
**readInputUntillDot** => четем от входа редове докато не прочетем ред с точка, след това
тъй като това е в IO с fmap взимаме стойноста му и я обръщаме махаме двата нови реда и точката и после ревърсваме обратно.

**checkIfCatAndGetUserInput** => ако е изпълнена команда за конкатениране с вход от потребителя fmap-ваме входа от потребителя вътре във командата за конкатенация, иначе връщаме
резултат.

**takeUserInput** => принтираме резултата от предишната команда и поле за входа за потребителя
Флъшваме веднага за да може на потребителя да му изеле веднага.
След това правиме функция която да парсва командата, и проверява дали има кат за да въведе потребителя
След това изпълнявае командата с директорията, пътя и командата. Ако това се е изпълнило успешно
Проверяваме дали сме в крайно състояние ако не връщаме състояние. 
Функциите за парсване и изпълнение ги комбинираме в една, която викаме за getLine

## Парсване

### Функции

parseCommand => парсва командата, ако стане грешка мята принт сза грешка


parseCommandTerminal => тримпва стринга и после го парсва с парсъра

parseCommandError => Връща стринга за грешка

char => Парсва един чар, като го парсва само ако спазва предиката

charAdvanced => Парсва един чар, но ако не успее да спази 
                предиката все едно е добавило нищо към масива

path => парсър как излежда един път

string => парсър как изгежда един стринг

space => парсър за шпация

sepBy => парсър за път разделен с /

sepAfter => същото като sepBy но първо парсва един стринг и после останалата част

pathParser => Парсва един път

commandParser => Превръща стринг във нещо което може да се парсне като команда

commandCreator => Парсва с горния парсър, и после влиза във сттената от случаи и от там създава една команда.

## Изход

### Функции

checkQuitApplication => проверява дали състоянието ако е крайно връща нищо ако не връща себе си.

## Изпълнение на команди

### Функции
execute => изпълнениет на команда.

execute printWorkingDirectory => връща като съобщение за потребителя сегашния път

execute makeDirectory => създава директория

execute listFiles => показва всички файлове в папката

execute changeDir => влизане в иректория

execute concatenate => добавя файлове

execute remove => маха файлове

execute Print => принтира съобщението

execute Quit => извежда крайно състояние

## Файлови операции

### Функции

locateDirectory => намира директория, ако няма директория мята грешка

getFileContent => намира информацията във файла и я извежда, като или е грешка или стринга във файла

addContent => добавя файл или директория към директорията с даден път, като или връща новата директория или стринг

removeContent => Маха директория, като или връща директорията или стринга

listDirectory => Стринг със всички файлове в дадена директория.

## Път

### Функции

combinePath => комбиниране на пътища

pathToString => Път към стринг за екрана

filterFilePath => филтиране със ..

stringToPath => Стринг към път.

-----------

# Ползване

pwd - сегашната директория

cd - влизане в директория

ls - изписване на всички директории

cat - създаване на файлове

rm - триене на съдържанието на директории

mkdir - създаване на папка 

quit - излизане от приложение